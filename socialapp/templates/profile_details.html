{%extends 'base.html'%}
{%load static%}
{%block body_block%}

     <div class="container list">
        <section class="section about-section gray-bg mt-4" id="about">
            <div class="container-fluid">
                <div class="row align-items-center flex-row-reverse">
                    <div class="col-lg-6">
                        <div class="about-text go-to">
                            <h3 class="dark-color">{{data}}</h3>
                            {%if data.user == request.user%}
                                <a class="btn btn-outline-dark" href="{%url 'profile-update' request.user.profile.id%}">Edit profile</a>
                            {%endif%}
                            <div class="row about-list">
                                <div class="col-md-6">
                                    <div class="media">
                                        <label>Birthday</label>
                                        <p>{{data.dob}}</p>
                                    </div>
                                    <div class="media">
                                        <label>Phone</label>
                                        <p>{{data.phone}}</p>
                                    </div>
                                    <div class="media">
                                        <label>Address</label>
                                        <p>{{data.address}}</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="media">
                                        <label>Bio</label>
                                        <p>{{data.bio}}</p>
                                    </div>
                                    <div class="mt-2">
                                      {%if data.user != request.user%}
                                        <form action="{%url 'follow' data.id%}" method="post" class="d-flex">
                                          {%csrf_token%}
                                          {%if data in request.user.profile.following.all%}
                                            <button type="submit" class="btn btn-secondary" name="action" value="unfollow">Unfollow</button>
                                          {%else%}
                                            <button type="submit" class="btn btn-primary" name="action" value="follow">Follow</button>
                                          {%endif%}
                                        </form> 
                                      {%endif%}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="about-avatar">
                          {%if data.profile_pic%}
                            <img src="{{data.profile_pic.url}}" title="" alt="">
                          {%else%}
                            <img src="{%static 'socialapp/images/profilepic.png'%}" title="" alt="">
                          {%endif%}
                        </div>
                    </div>
                </div>
                <div class="counter">
                    <div class="row">
                        <div class="col-6 col-lg-3">
                            <div class="count-data text-center">
                                <h6 class="count h2" data-to="500" data-speed="500">{{data.following.count}}</h6>
                                <p class="m-0px font-w-600">Following</p>
                            </div>
                        </div>
                        <div class="col-6 col-lg-3">
                            <div class="count-data text-center">
                                <h6 class="count h2" data-to="150" data-speed="150">{{data.followed_by.count}}</h6>
                                <p class="m-0px font-w-600">Followers</p>
                            </div>
                        </div>
                        <div class="col-6 col-lg-3">
                            <div class="count-data text-center">
                                <h6 class="count h2" data-to="850" data-speed="850">{{data.block.count}}</h6>
                                <p class="m-0px font-w-600">Blocked</p>
                            </div>
                        </div>
                        <div class="col-6 col-lg-3">
                            <div class="count-data text-center">
                                <h6 class="count h2" data-to="190" data-speed="190">{{data.user.userpost.all.count}}</h6>
                                <p class="m-0px font-w-600">Posts</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
     </div>
{%endblock%}